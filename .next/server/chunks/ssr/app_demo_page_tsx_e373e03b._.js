module.exports=[58689,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d={excelente:"text-emerald-600",bom:"text-green-600",atencao:"text-amber-500",critico:"text-red-500"},e={excelente:"Excelente",bom:"Bom",atencao:"Atenção",critico:"Crítico"};function f({label:a}){let[d,e]=(0,c.useState)(!1);return(0,b.jsxs)("div",{className:"relative inline-block",children:[(0,b.jsxs)("button",{onMouseEnter:()=>e(!0),onMouseLeave:()=>e(!1),className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-slate-400 border border-slate-200 rounded-lg bg-slate-50 cursor-not-allowed",children:[(0,b.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),a]}),d&&(0,b.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 bg-slate-800 text-white text-xs rounded-xl shadow-xl z-50",children:'Ambiente demonstrativo do padrão AXIS. Para aplicação clínica real, utilize a opção "Aplicar em um Caso Real".'})]})}function g(){let a,g,h,i,j,k,l,m,[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(!0),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)({nome:"",clinica:"",email:"",aprendizes:""}),[v,w]=(0,c.useState)(!1),[x,y]=(0,c.useState)(!1),[z,A]=(0,c.useState)(null);(0,c.useEffect)(()=>{fetch("/api/demo/data").then(a=>a.json()).then(a=>{o(a),q(!1)}).catch(()=>q(!1))},[]);let B=async()=>{if(t.nome&&t.email){w(!0);try{await fetch("/api/demo/solicitar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),y(!0)}catch{}w(!1)}};return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,b.jsx)("header",{className:"bg-white border-b border-slate-200 px-4 py-4 sticky top-0 z-40",children:(0,b.jsxs)("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-xs font-medium text-aba-500 uppercase tracking-wider",children:"AXIS ABA"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400",children:"Ambiente Institucional Demonstrativo"})]}),(0,b.jsx)("button",{onClick:()=>s(!0),className:"px-4 py-2 bg-aba-500 text-white text-sm font-medium rounded-xl hover:bg-aba-600 transition-colors shadow-sm",children:"Aplicar em um Caso Real"})]})}),(0,b.jsx)("div",{className:"bg-amber-50 border-b border-amber-200 px-4 py-2",children:(0,b.jsx)("p",{className:"text-center text-xs text-amber-700",children:"Estrutura completa visível. Aplicação clínica disponível via Acesso Essencial."})}),(0,b.jsxs)("main",{className:"max-w-5xl mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-8 text-center",children:[(0,b.jsx)("h1",{className:"text-2xl font-light text-slate-800 mb-2",children:"Padrão Estruturado de Governança Clínica em ABA"}),(0,b.jsx)("p",{className:"text-sm text-slate-400",children:"Motor CSO-ABA v2.6.1 · Alinhado SBNI 2025 · RN 469 · RN 541 · RN 539"})]}),p?(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(a=>(0,b.jsx)("div",{className:"animate-pulse bg-white rounded-2xl h-48 border border-slate-200"},a))}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:(n?.learners||[]).map(a=>(0,b.jsxs)("button",{onClick:()=>A(z?.id===a.id?null:a),className:`text-left p-5 rounded-2xl border transition-all ${z?.id===a.id?"border-aba-500 bg-aba-500/5 shadow-sm":"border-slate-200 bg-white hover:border-aba-500/40 hover:shadow-sm"}`,children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsx)("div",{className:"w-9 h-9 rounded-full bg-aba-500/10 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-sm font-medium text-aba-500",children:a.full_name?.charAt(0)})}),a.has_alert&&(0,b.jsx)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium bg-red-100 text-red-500",children:"Alerta"})]}),(0,b.jsx)("h3",{className:"text-sm font-medium text-slate-800 mb-0.5",children:a.full_name}),(0,b.jsxs)("p",{className:"text-xs text-slate-400 mb-3",children:[a.diagnosis||"TEA"," · Nível ",a.support_level]}),a.cso?(0,b.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,b.jsx)("span",{className:`text-xl font-light ${d[a.cso.cso_band]||"text-slate-600"}`,children:a.cso.cso_aba}),(0,b.jsx)("span",{className:`text-xs ${d[a.cso.cso_band]||"text-slate-400"}`,children:e[a.cso.cso_band]||a.cso.cso_band})]}):(0,b.jsx)("p",{className:"text-xs text-slate-300",children:"CSO não calculado"}),(0,b.jsxs)("div",{className:"flex gap-3 mt-2",children:[(0,b.jsxs)("span",{className:"text-[10px] text-slate-400",children:[a.protocols?.active||0," ativos"]}),(0,b.jsxs)("span",{className:"text-[10px] text-slate-400",children:[a.protocols?.mastered||0," dominados"]})]})]},a.id))}),z&&(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 mb-8",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsx)("h2",{className:"text-base font-medium text-slate-800",children:z.full_name}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(f,{label:"Novo Protocolo"}),(0,b.jsx)(f,{label:"Nova Sessão"})]})]}),z.cso_history?.length>=2&&(h=Math.max(0,Math.min(...g=(a=z.cso_history).map(a=>parseFloat(a.cso_aba)))-10),i=Math.min(100,Math.max(...g)+10),j=b=>24+b/(a.length-1)*512,k=a=>68-(a-h)/(i-h)*56,l=a.map((a,b)=>`${j(b)},${k(parseFloat(a.cso_aba))}`).join(" "),m={sas:"#C46A2F",pis:"#6366f1",bss:"#10b981",tcm:"#f59e0b"},(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("p",{className:"text-[10px] font-medium text-slate-400 mb-2 uppercase tracking-wider",children:"Evolução CSO-ABA"}),(0,b.jsx)("div",{className:"bg-slate-50 rounded-xl p-3 mb-3",children:(0,b.jsxs)("svg",{width:"100%",viewBox:"0 0 560 80",className:"overflow-visible",children:[[60,70,80,90].map(a=>(0,b.jsxs)("g",{children:[(0,b.jsx)("line",{x1:24,x2:536,y1:k(a),y2:k(a),stroke:"#e2e8f0",strokeWidth:"1",strokeDasharray:"3,3"}),(0,b.jsx)("text",{x:20,y:k(a)+3,textAnchor:"end",fontSize:"8",fill:"#cbd5e1",children:a})]},a)),(0,b.jsx)("polyline",{points:l,fill:"none",stroke:"#C46A2F",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),a.map((c,d)=>{let e=parseFloat(c.cso_aba),f=j(d),g=k(e),h=c.cso_band,i=new Date(c.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}),l=a.filter(a=>new Date(a.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})===i),m=l.findIndex(a=>a===c),n=l.length>1?`${i} S${m+1}`:i;return(0,b.jsxs)("g",{children:[(0,b.jsx)("circle",{cx:f,cy:g,r:"4",fill:"excelente"===h||"bom"===h?"#10b981":"#C46A2F",stroke:"white",strokeWidth:"1.5"}),(0,b.jsx)("text",{x:f,y:g-8,textAnchor:"middle",fontSize:"9",fill:"#475569",fontWeight:"500",children:Math.round(e)}),(0,b.jsx)("text",{x:f,y:78,textAnchor:"middle",fontSize:"8",fill:"#94a3b8",children:n})]},d)})]})}),(0,b.jsx)("p",{className:"text-[10px] font-medium text-slate-400 mb-2 uppercase tracking-wider",children:"Evolução por Dimensão"}),(0,b.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["sas","pis","bss","tcm"].map(c=>{let d=a.map(a=>parseFloat(a[c]||0)),e=Math.max(0,Math.min(...d)-10),f=Math.min(100,Math.max(...d)+10),g=b=>8+b/(a.length-1)*104,h=a=>32-(a-e)/(f-e)*24,i=a.map((a,b)=>`${g(b)},${h(parseFloat(a[c]||0))}`).join(" "),j=d[d.length-1];return(0,b.jsxs)("div",{className:"bg-slate-50 rounded-lg p-2",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,b.jsx)("span",{className:"text-[9px] font-medium uppercase",style:{color:m[c]},children:c}),(0,b.jsx)("span",{className:"text-[10px] font-medium text-slate-600",children:Math.round(j)})]}),(0,b.jsxs)("svg",{width:"100%",viewBox:"0 0 120 40",children:[(0,b.jsx)("polyline",{points:i,fill:"none",stroke:m[c],strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.map((d,e)=>(0,b.jsx)("circle",{cx:g(e),cy:h(parseFloat(a[e][c]||0)),r:"2.5",fill:m[c]},e))]})]},c)})})]})),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[(0,b.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl text-center border border-slate-200",children:[(0,b.jsx)("p",{className:"text-3xl font-light text-slate-800",children:z.cso?parseFloat(z.cso.cso_aba).toFixed(1):"—"}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 uppercase tracking-wider",children:"Índice CSO-ABA"}),z.cso?.cso_band&&(0,b.jsx)("p",{className:`text-xs font-medium mt-1 ${"excelente"===z.cso.cso_band?"text-emerald-500":"bom"===z.cso.cso_band?"text-green-500":"text-amber-500"}`,children:z.cso.cso_band.charAt(0).toUpperCase()+z.cso.cso_band.slice(1)})]}),(0,b.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl text-center",children:[(0,b.jsx)("p",{className:"text-lg font-light text-slate-700",children:z.protocols?.active||0}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400",children:"Protocolos Ativos"})]}),(0,b.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl text-center",children:[(0,b.jsx)("p",{className:"text-lg font-light text-emerald-600",children:z.protocols?.mastered||0}),(0,b.jsx)("p",{className:"text-[10px] text-slate-400",children:"Dominados"})]})]}),(0,b.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,b.jsx)(f,{label:"Gerar Relatório PDF"}),(0,b.jsx)(f,{label:"Ver Snapshot"}),(0,b.jsx)(f,{label:"Log de Auditoria"}),(0,b.jsx)(f,{label:"Generalização 3×2"})]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-5",children:[(0,b.jsx)("h3",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-3",children:"Motor CSO-ABA v2.6.1"}),(0,b.jsx)("div",{className:"space-y-2",children:[["SAS","Aquisição de Habilidades"],["PIS","Independência de Prompts"],["BSS","Estabilidade Comportamental"],["TCM","Consistência Terapêutica"]].map(([a,c])=>(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("span",{className:"text-xs text-slate-500",children:c}),(0,b.jsx)("span",{className:"text-xs font-medium text-aba-500",children:a})]},a))}),(0,b.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-100",children:(0,b.jsx)("p",{className:"text-[10px] text-slate-400",children:"Pesos fixos · Imutável · Auditável · SHA256"})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-5",children:[(0,b.jsx)("h3",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-3",children:"Blindagem Jurídica"}),(0,b.jsx)("div",{className:"space-y-2",children:["Snapshot imutável com hash SHA256","Justificativa automática de carga horária","Política de alta parcial documentada","Evidência bibliográfica por técnica","Versionamento metodológico explícito"].map((a,c)=>(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-aba-500 flex-shrink-0"}),(0,b.jsx)("span",{className:"text-xs text-slate-500",children:a})]},c))})]})]})]})]}),r&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>{v||s(!1)},children:(0,b.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",onClick:a=>a.stopPropagation(),children:(0,b.jsx)("div",{className:"p-6",children:x?(0,b.jsxs)("div",{className:"text-center py-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,b.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,b.jsx)("h3",{className:"text-base font-medium text-slate-800 mb-1",children:"Solicitação recebida"}),(0,b.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Você receberá o link de acesso em breve."}),(0,b.jsx)("button",{onClick:()=>{s(!1),y(!1)},className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-700",children:"Fechar"})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)("div",{className:"flex flex-col items-center mb-5",children:[(0,b.jsx)("div",{className:"mb-3",children:(0,b.jsx)("img",{src:"/axaba.png",alt:"AXIS ABA",className:"h-8 object-contain mx-auto"})}),(0,b.jsx)("h3",{className:"text-base font-medium text-slate-800 mb-1 text-center",children:"Acesso institucional imediato ao ambiente clínico real."}),(0,b.jsx)("p",{className:"text-xs text-slate-400 text-center",children:"Sem cartão. Sem aprovação manual. Sem limite temporal."})]}),(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nome *"}),(0,b.jsx)("input",{type:"text",value:t.nome,onChange:a=>u({...t,nome:a.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-aba-500",placeholder:"Seu nome completo"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Clínica"}),(0,b.jsx)("input",{type:"text",value:t.clinica,onChange:a=>u({...t,clinica:a.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-aba-500",placeholder:"Nome da clínica ou instituição"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Email *"}),(0,b.jsx)("input",{type:"email",value:t.email,onChange:a=>u({...t,email:a.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-aba-500",placeholder:"seu@email.com"})]}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:["Nº aproximado de aprendizes ",(0,b.jsx)("span",{className:"text-slate-300",children:"(opcional)"})]}),(0,b.jsx)("input",{type:"text",value:t.aprendizes,onChange:a=>u({...t,aprendizes:a.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-aba-500",placeholder:"Ex: 5, 10, 20..."})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3 mt-5",children:[(0,b.jsx)("button",{onClick:()=>s(!1),className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-700",children:"Cancelar"}),(0,b.jsx)("button",{onClick:B,disabled:v||!t.nome||!t.email,className:"px-5 py-2 bg-aba-500 text-white text-sm font-medium rounded-xl hover:bg-aba-600 disabled:opacity-50 transition-colors",children:v?"Enviando...":"Solicitar Acesso"})]})]})})})})]})}a.s(["default",()=>g])}];

//# sourceMappingURL=app_demo_page_tsx_e373e03b._.js.map