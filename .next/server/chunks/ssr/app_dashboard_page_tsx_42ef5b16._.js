module.exports=[20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(29662),e=a.i(38246),f=a.i(50944),g=a.i(14942);function h({className:a=""}){return(0,b.jsx)("div",{className:`animate-pulse bg-slate-100 rounded ${a}`})}function i({rows:a=5}){return(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsxs)("div",{className:"hidden md:grid grid-cols-10 gap-4 pb-3 border-b border-slate-200",children:[(0,b.jsx)(h,{className:"col-span-2 h-3 w-16"}),(0,b.jsx)(h,{className:"col-span-4 h-3 w-20"}),(0,b.jsx)(h,{className:"col-span-1 h-3 w-10 mx-auto"}),(0,b.jsx)(h,{className:"col-span-3 h-3 w-14"})]}),Array.from({length:a}).map((a,c)=>(0,b.jsxs)("div",{className:"grid grid-cols-10 gap-4 py-4 border-b border-slate-100",children:[(0,b.jsxs)("div",{className:"col-span-2 flex items-center gap-2",children:[(0,b.jsx)(h,{className:"h-4 w-12"}),(0,b.jsx)(h,{className:"h-3 w-10"})]}),(0,b.jsx)("div",{className:"col-span-4",children:(0,b.jsx)(h,{className:"h-4 w-32"})}),(0,b.jsx)("div",{className:"col-span-1 flex justify-center",children:(0,b.jsx)(h,{className:"h-5 w-5 rounded-full"})}),(0,b.jsxs)("div",{className:"col-span-3 flex items-center gap-1.5",children:[(0,b.jsx)(h,{className:"h-2 w-2 rounded-full"}),(0,b.jsx)(h,{className:"h-4 w-16"})]})]},c))]})}var j=a.i(4720);let k=(0,a.i(70106).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);var l=a.i(3314);function m({onAccept:a,loading:d}){let[e,f]=(0,c.useState)(!1);return(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:(0,b.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl max-w-lg w-full max-h-[90vh] overflow-hidden",children:[(0,b.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-blue-700 px-6 py-5",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)("div",{className:"p-2 bg-white/20 rounded-lg",children:(0,b.jsx)(l.Shield,{className:"w-6 h-6 text-white"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold text-white",children:"Termo de Uso"}),(0,b.jsx)("p",{className:"text-blue-100 text-sm",children:"AXIS TCC - Sistema de Apoio Clínico"})]})]})}),(0,b.jsx)("div",{className:"p-6 max-h-[50vh] overflow-y-auto",children:(0,b.jsxs)("div",{className:"space-y-5 text-sm text-slate-600",children:[(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(j.FileText,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-800 mb-1",children:"Natureza do Sistema"}),(0,b.jsx)("p",{children:"O AXIS TCC é uma ferramenta digital de apoio à organização e registro da prática clínica. O sistema processa dados inseridos pelo profissional e pode utilizar recursos automatizados para estruturar informações. Não realiza diagnóstico, não emite parecer clínico e não substitui a avaliação profissional."})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(j.FileText,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-800 mb-1",children:"Responsabilidade Profissional"}),(0,b.jsx)("p",{children:"Todas as decisões clínicas, diagnósticos e condutas terapêuticas são de responsabilidade exclusiva do psicólogo usuário, conforme o Código de Ética Profissional do Psicólogo."})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(j.FileText,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-800 mb-1",children:"Dados e Privacidade"}),(0,b.jsx)("p",{className:"mb-2",children:"Os dados inseridos são de responsabilidade do profissional. O AXIS TCC adota medidas técnicas de segurança e mantém separação clara entre registros de autoria do profissional e cálculos automatizados do sistema."}),(0,b.jsx)("p",{className:"mb-2",children:"O sistema não concede acesso a terceiros; o eventual compartilhamento de relatórios é decisão exclusiva do profissional responsável."}),(0,b.jsx)("p",{children:"O tratamento das informações observa a LGPD e a Resolução CFP nº 06/2019."})]})]}),(0,b.jsxs)("div",{className:"flex gap-3",children:[(0,b.jsx)(j.FileText,{className:"w-5 h-5 text-blue-600 flex-shrink-0 mt-0.5"}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-slate-800 mb-1",children:"Cálculos e Indicadores"}),(0,b.jsx)("p",{children:"Os indicadores e métricas exibidos são cálculos automáticos baseados nos dados informados. Não constituem avaliação clínica e devem ser interpretados exclusivamente pelo profissional."})]})]})]})}),(0,b.jsxs)("div",{className:"border-t border-slate-200 p-6 bg-slate-50",children:[(0,b.jsxs)("label",{className:"flex items-start gap-3 cursor-pointer mb-4",children:[(0,b.jsx)("input",{type:"checkbox",checked:e,onChange:a=>f(a.target.checked),className:"mt-1 w-4 h-4 text-blue-600 border-slate-300 rounded focus:ring-blue-500"}),(0,b.jsx)("span",{className:"text-sm text-slate-700",children:"Declaro que compreendo que o AXIS TCC é uma ferramenta de apoio técnico e que todas as decisões clínicas são de minha exclusiva responsabilidade profissional."})]}),(0,b.jsx)("button",{onClick:a,disabled:!e||d,className:`w-full py-3 px-4 rounded-lg font-medium transition-all flex items-center justify-center gap-2
              ${e&&!d?"bg-blue-600 text-white hover:bg-blue-700":"bg-slate-200 text-slate-400 cursor-not-allowed"}`,children:d?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processando..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(k,{className:"w-4 h-4"}),"Aceitar e Continuar"]})})]})]})})}function n(){let{isLoaded:a,userId:h}=(0,d.useAuth)(),j=(0,f.useRouter)(),[k,l]=(0,c.useState)(null),[n,o]=(0,c.useState)(!0),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!1);(0,c.useEffect)(()=>{a&&h&&fetch("/api/user/tenant").then(a=>a.json()).then(a=>(a.termsAccepted||q(!0),fetch("/api/stats"))).then(a=>a.json()).then(a=>{l(a.stats),o(!1)}).catch(()=>o(!1))},[a,h]);let t=async()=>{s(!0);try{(await fetch("/api/user/accept-terms",{method:"POST"})).ok&&window.location.reload()}catch(a){console.error("Erro ao aceitar termos:",a)}finally{s(!1)}},u=a=>new Date(a).toLocaleTimeString("pt-BR",{hour:"2-digit",minute:"2-digit"}),v=a=>{let b=new Date(a),c=new Date;return b.toDateString()===c.toDateString()},w=(a,b)=>{if("em_andamento"===a)return"Em andamento";if("finalizada"===a)return"Finalizada";if("cancelada"===a)return"Cancelada";if("agendada"===a)switch(b){case"accepted":return"Confirmada";case"declined":return"Recusada";case"tentative":return"Pendente";default:return"Agendada"}return a},x=(a,b)=>{if("em_andamento"===a)return"text-sky-600";if("finalizada"===a)return"text-slate-400";if("cancelada"===a)return"text-slate-400 line-through";if("agendada"===a)switch(b){case"accepted":return"text-emerald-600";case"declined":return"text-rose-500";case"tentative":return"text-amber-500";default:return"text-amber-600"}return"text-slate-500"},y=(a,b)=>{if("em_andamento"===a)return"bg-[#FC608F]";if("finalizada"===a||"cancelada"===a)return"bg-slate-300";if("agendada"===a)switch(b){case"accepted":return"bg-emerald-500";case"declined":return"bg-rose-500";default:return"bg-amber-400"}return"bg-slate-400"};if(!a||n)return(0,b.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,b.jsx)(g.default,{}),(0,b.jsxs)("main",{className:"md:ml-20 min-h-screen pb-20 md:pb-8",children:[(0,b.jsx)("div",{className:"flex justify-center pt-5 md:pt-6 mb-6 md:mb-8 px-4",children:(0,b.jsxs)("div",{className:"inline-flex items-center gap-1 bg-white border border-slate-200 rounded-full px-3 md:px-5 py-1.5 shadow-sm",children:[(0,b.jsx)("div",{className:"animate-pulse bg-slate-100 rounded h-4 w-10"}),(0,b.jsx)("span",{className:"text-slate-300 text-xs",children:"·"}),(0,b.jsx)("div",{className:"animate-pulse bg-slate-100 rounded h-4 w-14"}),(0,b.jsx)("span",{className:"text-slate-300 text-xs",children:"·"}),(0,b.jsx)("div",{className:"animate-pulse bg-slate-100 rounded h-4 w-16"})]})}),(0,b.jsxs)("div",{className:"px-4 md:px-8 lg:px-12 xl:px-16",children:[(0,b.jsxs)("div",{className:"mb-2",children:[(0,b.jsx)("div",{className:"animate-pulse bg-slate-100 rounded h-10 w-48 mb-2"}),(0,b.jsx)("div",{className:"animate-pulse bg-slate-100 rounded h-5 w-32"})]}),(0,b.jsx)("div",{className:"mb-6 md:mb-8 pb-5 md:pb-6 border-b border-slate-100",children:(0,b.jsx)("div",{className:"animate-pulse bg-slate-100 rounded h-6 w-36"})}),(0,b.jsxs)("div",{children:[(0,b.jsxs)("div",{className:"flex items-baseline justify-between mb-4",children:[(0,b.jsx)("div",{className:"animate-pulse bg-slate-100 rounded h-6 w-40"}),(0,b.jsx)("div",{className:"animate-pulse bg-slate-100 rounded h-4 w-32"})]}),(0,b.jsx)(i,{rows:6})]})]})]})]});let z=k?.upcoming?.filter(a=>v(a.scheduled_at))||[],A=k?.upcoming?.filter(a=>!v(a.scheduled_at))||[],B=z.length,C=k?.in_progress||0,D=k?.suggestions||0;return(0,b.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,b.jsx)(g.default,{}),p&&(0,b.jsx)(m,{onAccept:t,loading:r}),(0,b.jsxs)("main",{className:"md:ml-20 min-h-screen pb-20 md:pb-8",children:[(0,b.jsx)("div",{className:"flex justify-center pt-5 md:pt-6 mb-6 md:mb-8 px-4",children:(0,b.jsxs)("nav",{className:"inline-flex items-center gap-1 bg-white border border-slate-200 rounded-full px-3 md:px-5 py-1.5 shadow-sm",children:[(0,b.jsx)(e.default,{href:"/dashboard",className:"px-3 py-1 text-sm font-medium text-[#FC608F]",children:"Hoje"}),(0,b.jsx)("span",{className:"text-slate-300 text-xs",children:"·"}),(0,b.jsx)(e.default,{href:"/sessoes",className:"px-3 py-1 text-sm font-medium text-slate-400 hover:text-slate-600 transition-colors",children:"Sessões"}),(0,b.jsx)("span",{className:"text-slate-300 text-xs",children:"·"}),(0,b.jsx)(e.default,{href:"/pacientes",className:"px-3 py-1 text-sm font-medium text-slate-400 hover:text-slate-600 transition-colors",children:"Pacientes"}),(0,b.jsx)("span",{className:"text-slate-300 text-xs hidden sm:inline",children:"·"}),(0,b.jsx)(e.default,{href:"/sugestoes",className:"hidden sm:inline px-3 py-1 text-sm font-medium text-slate-400 hover:text-slate-600 transition-colors",children:"Sugestões"})]})}),(0,b.jsxs)("div",{className:"px-4 md:px-8 lg:px-12 xl:px-16",children:[(0,b.jsxs)("header",{className:"mb-2",children:[(0,b.jsx)("h1",{className:"text-lg font-normal text-slate-400 tracking-tight mb-0",children:"Dashboard"}),(0,b.jsx)("p",{className:"text-xs text-slate-300 font-light",children:"Visão clínica do dia"})]}),(0,b.jsxs)("section",{className:"mb-6 md:mb-8 pb-5 md:pb-6 border-b border-slate-100",children:[(0,b.jsxs)("div",{className:"flex flex-wrap items-baseline gap-x-2 gap-y-1 text-base md:text-xl text-slate-700 mb-1",children:[(0,b.jsxs)("span",{className:"text-xs text-[#FC608F]",children:[B," ",1===B?"sessão":"sessões"," hoje"]}),C>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("span",{className:"text-slate-300",children:"·"}),(0,b.jsxs)("span",{children:[C," em andamento"]})]})]}),D>0&&(0,b.jsxs)("p",{className:"text-sm text-slate-500 mt-1",children:["AXIS Assist — ",D," ",1===D?"sugestão aguarda":"sugestões aguardam"," revisão"," ",(0,b.jsx)(e.default,{href:"/sugestoes",className:"text-[#FC608F] hover:text-[#FC608F]/80 font-medium",children:"→ Ver"})]})]}),(0,b.jsxs)("section",{"data-onboarding":"today-sessions",children:[(0,b.jsxs)("div",{className:"flex items-baseline justify-between mb-4",children:[(0,b.jsx)("h2",{className:"font-serif text-lg md:text-xl font-light text-slate-800",children:"Próximas Sessões"}),(0,b.jsx)("span",{className:"text-xs md:text-sm text-slate-400 italic",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",day:"numeric",month:"long"})})]}),z.length>0||A.length>0?(0,b.jsxs)("div",{className:"w-full overflow-x-auto",children:[(0,b.jsxs)("div",{className:"hidden md:grid grid-cols-10 gap-4 pb-3 border-b border-slate-200 text-xs uppercase tracking-wider text-slate-400 font-medium min-w-[600px]",children:[(0,b.jsx)("div",{className:"col-span-2",children:"Horário"}),(0,b.jsx)("div",{className:"col-span-4",children:"Paciente"}),(0,b.jsx)("div",{className:"col-span-1 text-center",children:"Push"}),(0,b.jsx)("div",{className:"col-span-3",children:"Status"})]}),z.length>0&&(0,b.jsx)("div",{className:"flex flex-col min-w-[600px]",children:z.map((a,c)=>(0,b.jsxs)("div",{"data-onboarding":0===c?"session-card":void 0,onClick:()=>j.push(`/sessoes/${a.id}`),className:"group grid grid-cols-10 gap-4 py-4 items-center hover:bg-slate-50/50 transition-colors cursor-pointer border-b border-slate-100",children:[(0,b.jsxs)("div",{className:"col-span-2 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-slate-800",children:u(a.scheduled_at)}),(0,b.jsx)("span",{className:"text-xs text-slate-400",children:"· Hoje"})]}),(0,b.jsx)("div",{className:"col-span-4",children:(0,b.jsx)("span",{className:"text-base font-medium text-slate-900",children:a.patient_name})}),(0,b.jsx)("div",{"data-onboarding":0===c?"reminders":void 0,className:"col-span-1 flex justify-center",children:a.push_enabled?(0,b.jsx)("svg",{className:"w-5 h-5 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}):(0,b.jsxs)("svg",{className:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 3l18 18"})]})}),(0,b.jsx)("div",{"data-onboarding":0===c?"session-status":void 0,className:"col-span-3",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 text-sm ${x(a.status,a.patient_response)}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${y(a.status,a.patient_response)}`}),w(a.status,a.patient_response)]})})]},a.id))}),z.length>0&&A.length>0&&(0,b.jsx)("div",{className:"min-w-[600px] py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"h-px bg-slate-300 flex-1"}),(0,b.jsx)("span",{className:"text-xs text-slate-400 uppercase tracking-wider font-medium",children:"Próximos dias"}),(0,b.jsx)("div",{className:"h-px bg-slate-300 flex-1"})]})}),A.length>0&&(0,b.jsx)("div",{className:"flex flex-col min-w-[600px]",children:A.map((a,c)=>{let d,e,f;return(0,b.jsxs)("div",{"data-onboarding":0===c?"session-card":void 0,onClick:()=>j.push(`/sessoes/${a.id}`),className:"group grid grid-cols-10 gap-4 py-4 items-center hover:bg-slate-50/50 transition-colors cursor-pointer border-b border-slate-100",children:[(0,b.jsxs)("div",{className:"col-span-2 flex items-center gap-2",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-slate-600",children:u(a.scheduled_at)}),(0,b.jsxs)("span",{className:"text-xs text-slate-400",children:["· ",(d=new Date(a.scheduled_at),((f=new Date(e=new Date)).setDate(f.getDate()+1),d.toDateString()===e.toDateString())?"Hoje":d.toDateString()===f.toDateString()?"Amanhã":d.toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}).replace(".",""))]})]}),(0,b.jsx)("div",{className:"col-span-4",children:(0,b.jsx)("span",{className:"text-base font-medium text-slate-700",children:a.patient_name})}),(0,b.jsx)("div",{className:"col-span-1 flex justify-center",children:a.push_enabled?(0,b.jsx)("svg",{className:"w-5 h-5 text-emerald-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}):(0,b.jsxs)("svg",{className:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"}),(0,b.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M3 3l18 18"})]})}),(0,b.jsx)("div",{className:"col-span-3",children:(0,b.jsxs)("span",{className:`inline-flex items-center gap-1.5 text-sm ${x(a.status,a.patient_response)}`,children:[(0,b.jsx)("span",{className:`w-1.5 h-1.5 rounded-full ${y(a.status,a.patient_response)}`}),w(a.status,a.patient_response)]})})]},a.id)})})]}):(0,b.jsx)("div",{className:"py-8 text-center",children:(0,b.jsx)("p",{className:"text-slate-400 italic text-sm",children:"Nenhuma sessão agendada"})})]})]})]})]})}a.s(["default",()=>n],20731)}];

//# sourceMappingURL=app_dashboard_page_tsx_42ef5b16._.js.map