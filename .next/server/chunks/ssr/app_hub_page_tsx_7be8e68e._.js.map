{"version":3,"sources":["../../../../app/hub/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport { useAuth } from '@clerk/nextjs'\nimport { useRouter } from 'next/navigation'\n\ninterface License {\n  product_type: string\n  is_active: boolean\n  valid_from: string\n  valid_until: string | null\n}\n\nconst PRODUCTS = [\n  {\n    id: 'tcc',\n    name: 'AXIS TCC',\n    description: 'Sistema de Apoio √† Pr√°tica Cl√≠nica em Terapia Cognitivo-Comportamental',\n    icon: 'üß†',\n    href: '/dashboard',\n    color: 'blue',\n  },\n  {\n    id: 'aba',\n    name: 'AXIS ABA',\n    description: 'Sistema de Apoio √† An√°lise do Comportamento Aplicada',\n    icon: 'üß©',\n    href: '/aba/dashboard',\n    color: 'emerald',\n  },\n]\n\nexport default function HubPage() {\n  const { isLoaded, userId } = useAuth()\n  const router = useRouter()\n  const [licenses, setLicenses] = useState<License[]>([])\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    if (isLoaded && userId) {\n      fetch('/api/user/licenses')\n        .then(r => r.json())\n        .then(data => {\n          setLicenses(data.licenses || [])\n          setLoading(false)\n        })\n        .catch(() => setLoading(false))\n    }\n  }, [isLoaded, userId])\n\n  if (!isLoaded || loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center bg-neutral-50\">\n        <div className=\"text-center\">\n          <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4\"></div>\n          <p className=\"text-base text-neutral-600\">Carregando m√≥dulos...</p>\n        </div>\n      </div>\n    )\n  }\n\n  const hasLicense = (productId: string) =>\n    licenses.some(l => l.product_type === productId)\n\n  return (\n    <div className=\"min-h-screen bg-neutral-50\">\n      <header className=\"border-b border-neutral-200 bg-white\">\n        <div className=\"max-w-5xl mx-auto px-6 py-6\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-10 h-10 bg-blue-600 rounded-lg flex items-center justify-center\">\n              <span className=\"text-2xl\">‚öïÔ∏è</span>\n            </div>\n            <div>\n              <h1 className=\"text-xl font-bold text-neutral-900\">AXI Cl√≠nico</h1>\n              <p className=\"text-sm text-neutral-500\">Seus m√≥dulos</p>\n            </div>\n          </div>\n        </div>\n      </header>\n\n      <main className=\"max-w-5xl mx-auto px-6 py-10\">\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {PRODUCTS.map(product => {\n            const licensed = hasLicense(product.id)\n            return (\n              <div\n                key={product.id}\n                onClick={() => licensed && router.push(product.href)}\n                className={`relative rounded-xl border-2 p-6 transition-all duration-200 ${\n                  licensed\n                    ? 'border-neutral-200 bg-white hover:border-blue-300 hover:shadow-md cursor-pointer'\n                    : 'border-dashed border-neutral-300 bg-neutral-50 cursor-default'\n                }`}\n              >\n                {licensed && (\n                  <span className=\"absolute top-4 right-4 text-xs font-medium bg-green-100 text-green-700 px-2 py-1 rounded-full\">\n                    Ativo\n                  </span>\n                )}\n                {!licensed && (\n                  <span className=\"absolute top-4 right-4 text-xs font-medium bg-neutral-200 text-neutral-500 px-2 py-1 rounded-full\">\n                    N√£o contratado\n                  </span>\n                )}\n\n                <div className=\"flex items-start gap-4\">\n                  <div className={`w-14 h-14 rounded-xl flex items-center justify-center text-3xl ${\n                    licensed ? 'bg-blue-50' : 'bg-neutral-100'\n                  }`}>\n                    {product.icon}\n                  </div>\n                  <div className=\"flex-1\">\n                    <h2 className={`text-lg font-semibold mb-1 ${\n                      licensed ? 'text-neutral-900' : 'text-neutral-400'\n                    }`}>\n                      {product.name}\n                    </h2>\n                    <p className={`text-sm ${\n                      licensed ? 'text-neutral-600' : 'text-neutral-400'\n                    }`}>\n                      {product.description}\n                    </p>\n                    {licensed && (\n                      <p className=\"text-sm text-blue-600 font-medium mt-3\">\n                        Acessar ‚Üí\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </div>\n            )\n          })}\n        </div>\n      </main>\n    </div>\n  )\n}\n\n"],"names":[],"mappings":"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"}