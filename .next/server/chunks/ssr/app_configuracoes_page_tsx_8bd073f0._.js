module.exports=[25504,a=>{"use strict";var b=a.i(87924),c=a.i(29662),d=a.i(72131),e=a.i(14942),f=a.i(46842),g=a.i(23312),h=a.i(3314),i=a.i(70106);let j=(0,i.default)("database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);var k=a.i(41675),l=a.i(69520),m=a.i(33441),n=a.i(33508);let o=(0,i.default)("zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),p=(0,i.default)("unlink",[["path",{d:"m18.84 12.25 1.72-1.71h-.02a5.004 5.004 0 0 0-.12-7.07 5.006 5.006 0 0 0-6.95 0l-1.72 1.71",key:"yqzxt4"}],["path",{d:"m5.17 11.75-1.71 1.71a5.004 5.004 0 0 0 .12 7.07 5.006 5.006 0 0 0 6.95 0l1.71-1.71",key:"4qinb0"}],["line",{x1:"8",x2:"8",y1:"2",y2:"5",key:"1041cp"}],["line",{x1:"2",x2:"5",y1:"8",y2:"8",key:"14m1p5"}],["line",{x1:"16",x2:"16",y1:"19",y2:"22",key:"rzdirn"}],["line",{x1:"19",x2:"22",y1:"16",y2:"16",key:"ox905f"}]]);function q(){var a;let i,{isLoaded:q}=(0,c.useAuth)(),[r,s]=(0,d.useState)(null),[t,u]=(0,d.useState)(!1),[v,w]=(0,d.useState)(null),[x,y]=(0,d.useState)(!1),[z,A]=(0,d.useState)(null),[B,C]=(0,d.useState)(!1),[D,E]=(0,d.useState)(!1),[F,G]=(0,d.useState)({name:"",crp:""}),[H,I]=(0,d.useState)(!0),[J,K]=(0,d.useState)(!1),[L,M]=(0,d.useState)(!1);(0,d.useEffect)(()=>{R(),N()},[]);let N=async()=>{try{let a=await fetch("/api/user/tenant");if((await a.json()).tenantId){let a=await fetch("/api/user/profile"),b=await a.json();G({name:b.name||"",crp:b.crp||""})}}catch(a){console.error("Erro ao buscar perfil:",a)}I(!1)},O=async a=>{K(!0),M(!1);try{(await fetch("/api/user/profile",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok&&(M(!0),setTimeout(()=>M(!1),2e3))}catch(a){console.error("Erro ao salvar perfil:",a)}K(!1)},P=(0,d.useCallback)((a=a=>{O(a)},(...b)=>{clearTimeout(i),i=setTimeout(()=>a(...b),1e3)}),[]),Q=(a,b)=>{let c={...F,[a]:b};G(c),P(c)},R=async()=>{try{let a=await fetch("/api/google/status"),b=await a.json();s(b)}catch(a){console.error("Erro ao buscar status do Google:",a)}},S=async()=>{u(!0),w(null);try{let a=await fetch("/api/google/sync",{method:"POST"}),b=await a.json();w(b),R()}catch(a){w({error:"Erro ao sincronizar"})}u(!1)},T=async()=>{y(!0),A(null);try{let a=await fetch("/api/google/watch",{method:"POST"}),b=await a.json();A(b),R()}catch(a){A({error:"Erro ao ativar sync automático"})}y(!1)},U=async()=>{C(!0);try{(await fetch("/api/google/disconnect",{method:"POST"})).ok&&(s({connected:!1}),E(!1),w(null),A(null))}catch(a){console.error("Erro ao desconectar:",a)}C(!1)};return q?(0,b.jsxs)("div",{className:"flex min-h-screen bg-neutral-50",children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("main",{className:"flex-1 p-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-neutral-900",children:"Configurações"}),(0,b.jsx)("p",{className:"text-neutral-500 mt-1",children:"Gerencie suas preferências do sistema"})]}),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:(0,b.jsx)(k.Calendar,{className:"w-6 h-6 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",children:"Google Calendar"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Sincronize sua agenda automaticamente"})]})]}),r?.connected?(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-emerald-600",children:[(0,b.jsx)(m.Check,{className:"w-5 h-5"}),(0,b.jsx)("span",{className:"font-medium",children:"Conectado"})]}),(0,b.jsxs)("div",{className:"text-sm text-neutral-500",children:[(0,b.jsxs)("p",{children:["Calendário: ",r.calendar_id]}),r.last_sync_at&&(0,b.jsxs)("p",{children:["Última sincronização: ",new Date(r.last_sync_at).toLocaleString("pt-BR")]}),r.webhook_active&&(0,b.jsxs)("p",{className:"text-emerald-600 font-medium",children:["Sync automático ativo até ",new Date(r.webhook_expiration).toLocaleDateString("pt-BR")]})]}),(0,b.jsxs)("div",{className:"flex gap-4 flex-wrap",children:[(0,b.jsxs)("button",{onClick:S,disabled:t,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors disabled:opacity-50",children:[(0,b.jsx)(l.RefreshCw,{className:t?"w-4 h-4 animate-spin":"w-4 h-4"}),t?"Sincronizando...":"Sincronizar Agora"]}),!r.webhook_active&&(0,b.jsxs)("button",{onClick:T,disabled:x,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50",children:[(0,b.jsx)(o,{className:x?"w-4 h-4 animate-pulse":"w-4 h-4"}),x?"Ativando...":"Ativar Sync Automático"]}),(0,b.jsxs)("button",{onClick:()=>E(!0),className:"flex items-center gap-2 px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:[(0,b.jsx)(p,{className:"w-4 h-4"}),"Desconectar"]})]}),v&&(0,b.jsx)("div",{className:v.error?"p-4 rounded-lg bg-red-50 text-red-800":"p-4 rounded-lg bg-emerald-50 text-emerald-800",children:v.error?(0,b.jsx)("p",{children:v.error}):(0,b.jsxs)("p",{children:["Sincronização concluída: ",v.imported," importados, ",v.updated," atualizados, ",v.skipped," ignorados"]})}),z&&(0,b.jsx)("div",{className:z.error?"p-4 rounded-lg bg-red-50 text-red-800":"p-4 rounded-lg bg-emerald-50 text-emerald-800",children:z.error?(0,b.jsx)("p",{children:z.error}):(0,b.jsx)("p",{children:"Sync automático ativado! Eventos do Google Calendar serão importados instantaneamente."})})]}):(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-neutral-500",children:[(0,b.jsx)(n.X,{className:"w-5 h-5"}),(0,b.jsx)("span",{children:"Não conectado"})]}),(0,b.jsxs)("a",{href:"/api/google","data-onboarding":"connect-google",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:[(0,b.jsx)(k.Calendar,{className:"w-4 h-4"}),"Conectar Google Calendar"]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:(0,b.jsx)(f.User,{className:"w-6 h-6 text-blue-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",children:"Perfil"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Informações pessoais e profissionais"})]})]}),(J||L)&&(0,b.jsx)("div",{className:`flex items-center gap-2 text-sm ${L?"text-emerald-600":"text-neutral-500"}`,children:J?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:"w-4 h-4 border-2 border-neutral-300 border-t-blue-600 rounded-full animate-spin"}),"Salvando..."]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Check,{className:"w-4 h-4"}),"Salvo"]})})]}),H?(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsx)("div",{className:"h-10 bg-neutral-100 rounded-lg animate-pulse"}),(0,b.jsx)("div",{className:"h-10 bg-neutral-100 rounded-lg animate-pulse"})]}):(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"Nome"}),(0,b.jsx)("input",{type:"text",value:F.name,onChange:a=>Q("name",a.target.value),placeholder:"Seu nome",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-neutral-700 mb-1",children:"CRP"}),(0,b.jsx)("input",{type:"text",value:F.crp,onChange:a=>Q("crp",a.target.value),placeholder:"00/00000",className:"w-full px-4 py-2 border border-neutral-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-600"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-amber-100 flex items-center justify-center",children:(0,b.jsx)(g.Bell,{className:"w-6 h-6 text-amber-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",children:"Notificações"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Preferências de alertas e lembretes"})]})]}),(0,b.jsx)("div",{className:"space-y-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-neutral-900",children:"Sugestões do AXIS Assist"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Receber notificações de novas sugestões"})]}),(0,b.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer",children:[(0,b.jsx)("input",{type:"checkbox",defaultChecked:!0,className:"sr-only peer"}),(0,b.jsx)("div",{className:"w-11 h-6 bg-neutral-200 rounded-full peer peer-checked:after:translate-x-full after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]})})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-emerald-100 flex items-center justify-center",children:(0,b.jsx)(h.Shield,{className:"w-6 h-6 text-emerald-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",children:"Privacidade"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Segurança e proteção de dados"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-neutral-900",children:"Criptografia de dados"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Todos os dados são criptografados em repouso"})]}),(0,b.jsx)("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-800 rounded-full text-sm font-medium",children:"Ativo"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-neutral-900",children:"Backup automático"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Backup diário dos seus dados"})]}),(0,b.jsx)("span",{className:"px-3 py-1 bg-emerald-100 text-emerald-800 rounded-full text-sm font-medium",children:"Ativo"})]})]})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg border border-neutral-200 p-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full bg-neutral-100 flex items-center justify-center",children:(0,b.jsx)(j,{className:"w-6 h-6 text-neutral-600"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg font-semibold text-neutral-900",children:"Dados"}),(0,b.jsx)("p",{className:"text-sm text-neutral-500",children:"Exportação e gerenciamento"})]})]}),(0,b.jsxs)("div",{className:"flex gap-4",children:[(0,b.jsx)("button",{className:"px-4 py-2 border border-neutral-300 text-neutral-700 rounded-lg hover:bg-neutral-50 transition-colors",children:"Exportar Dados"}),(0,b.jsx)("button",{className:"px-4 py-2 border border-red-300 text-red-600 rounded-lg hover:bg-red-50 transition-colors",children:"Excluir Conta"})]})]})]})]})}),D&&(0,b.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md mx-4",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"Desconectar Google Calendar?"}),(0,b.jsx)("p",{className:"text-neutral-600 mb-6",children:"A sincronização automática será desativada. As sessões já importadas permanecerão no sistema."}),(0,b.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,b.jsx)("button",{onClick:()=>E(!1),className:"px-4 py-2 border border-neutral-300 rounded-lg hover:bg-neutral-50",children:"Cancelar"}),(0,b.jsx)("button",{onClick:U,disabled:B,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 disabled:opacity-50",children:B?"Desconectando...":"Desconectar"})]})]})})]}):(0,b.jsxs)("div",{className:"flex min-h-screen bg-neutral-50",children:[(0,b.jsx)(e.default,{}),(0,b.jsx)("main",{className:"flex-1 p-8",children:(0,b.jsx)("div",{className:"animate-pulse",children:"Carregando..."})})]})}a.s(["default",()=>q],25504)}];

//# sourceMappingURL=app_configuracoes_page_tsx_8bd073f0._.js.map