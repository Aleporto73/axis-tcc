(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,38999,e=>{"use strict";var s=e.i(43476),t=e.i(71645);let a={excelente:"text-emerald-600",bom:"text-green-600",atencao:"text-amber-500",critico:"text-red-500"},l={excelente:"Excelente",bom:"Bom",atencao:"Atenção",critico:"Crítico"};function i({label:e}){let[a,l]=(0,t.useState)(!1);return(0,s.jsxs)("div",{className:"relative inline-block",children:[(0,s.jsxs)("button",{onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1),className:"inline-flex items-center gap-1.5 px-3 py-1.5 text-xs font-medium text-slate-400 border border-slate-200 rounded-lg bg-slate-50 cursor-not-allowed",children:[(0,s.jsx)("svg",{className:"w-3 h-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),e]}),a&&(0,s.jsx)("div",{className:"absolute bottom-full left-1/2 -translate-x-1/2 mb-2 w-64 p-3 bg-slate-800 text-white text-xs rounded-xl shadow-xl z-50",children:'Ambiente demonstrativo do padrão AXIS. Para aplicação clínica real, utilize a opção "Aplicar em um Caso Real".'})]})}function r(){let e,r,c,n,o,d,x,m,[h,p]=(0,t.useState)(null),[b,u]=(0,t.useState)(!0),[j,g]=(0,t.useState)(!1),[N,f]=(0,t.useState)({nome:"",clinica:"",email:"",aprendizes:""}),[v,w]=(0,t.useState)(!1),[y,A]=(0,t.useState)(!1),[k,S]=(0,t.useState)(null);(0,t.useEffect)(()=>{fetch("/api/demo/data").then(e=>e.json()).then(e=>{p(e),u(!1)}).catch(()=>u(!1))},[]);let C=async()=>{if(N.nome&&N.email){w(!0);try{await fetch("/api/demo/solicitar",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)}),A(!0)}catch{}w(!1)}};return(0,s.jsxs)("div",{className:"min-h-screen bg-slate-50",children:[(0,s.jsx)("header",{className:"bg-white border-b border-slate-200 px-4 py-4 sticky top-0 z-40",children:(0,s.jsxs)("div",{className:"max-w-5xl mx-auto flex items-center justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"text-xs font-medium text-aba-500 uppercase tracking-wider",children:"AXIS ABA"}),(0,s.jsx)("p",{className:"text-[10px] text-slate-400",children:"Ambiente Institucional Demonstrativo"})]}),(0,s.jsx)("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-aba-500 text-white text-sm font-medium rounded-xl hover:bg-aba-600 transition-colors shadow-sm",children:"Aplicar em um Caso Real"})]})}),(0,s.jsx)("div",{className:"bg-amber-50 border-b border-amber-200 px-4 py-2",children:(0,s.jsx)("p",{className:"text-center text-xs text-amber-700",children:"Estrutura completa visível. Aplicação clínica disponível via Acesso Essencial."})}),(0,s.jsxs)("main",{className:"max-w-5xl mx-auto px-4 py-8",children:[(0,s.jsxs)("div",{className:"mb-8 text-center",children:[(0,s.jsx)("h1",{className:"text-2xl font-light text-slate-800 mb-2",children:"Padrão Estruturado de Governança Clínica em ABA"}),(0,s.jsx)("p",{className:"text-sm text-slate-400",children:"Motor CSO-ABA v2.6.1 · Alinhado SBNI 2025 · RN 469 · RN 541 · RN 539"})]}),b?(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[1,2,3].map(e=>(0,s.jsx)("div",{className:"animate-pulse bg-white rounded-2xl h-48 border border-slate-200"},e))}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:(h?.learners||[]).map(e=>(0,s.jsxs)("button",{onClick:()=>S(k?.id===e.id?null:e),className:`text-left p-5 rounded-2xl border transition-all ${k?.id===e.id?"border-aba-500 bg-aba-500/5 shadow-sm":"border-slate-200 bg-white hover:border-aba-500/40 hover:shadow-sm"}`,children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,s.jsx)("div",{className:"w-9 h-9 rounded-full bg-aba-500/10 flex items-center justify-center",children:(0,s.jsx)("span",{className:"text-sm font-medium text-aba-500",children:e.full_name?.charAt(0)})}),e.has_alert&&(0,s.jsx)("span",{className:"px-2 py-0.5 rounded-full text-[10px] font-medium bg-red-100 text-red-500",children:"Alerta"})]}),(0,s.jsx)("h3",{className:"text-sm font-medium text-slate-800 mb-0.5",children:e.full_name}),(0,s.jsxs)("p",{className:"text-xs text-slate-400 mb-3",children:[e.diagnosis||"TEA"," · Nível ",e.support_level]}),e.cso?(0,s.jsxs)("div",{className:"flex items-baseline gap-1.5",children:[(0,s.jsx)("span",{className:`text-xl font-light ${a[e.cso.cso_band]||"text-slate-600"}`,children:e.cso.cso_aba}),(0,s.jsx)("span",{className:`text-xs ${a[e.cso.cso_band]||"text-slate-400"}`,children:l[e.cso.cso_band]||e.cso.cso_band})]}):(0,s.jsx)("p",{className:"text-xs text-slate-300",children:"CSO não calculado"}),(0,s.jsxs)("div",{className:"flex gap-3 mt-2",children:[(0,s.jsxs)("span",{className:"text-[10px] text-slate-400",children:[e.protocols?.active||0," ativos"]}),(0,s.jsxs)("span",{className:"text-[10px] text-slate-400",children:[e.protocols?.mastered||0," dominados"]})]})]},e.id))}),k&&(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-6 mb-8",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsx)("h2",{className:"text-base font-medium text-slate-800",children:k.full_name}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)(i,{label:"Novo Protocolo"}),(0,s.jsx)(i,{label:"Nova Sessão"})]})]}),k.cso_history?.length>=2&&(c=Math.max(0,Math.min(...r=(e=k.cso_history).map(e=>parseFloat(e.cso_aba)))-10),n=Math.min(100,Math.max(...r)+10),o=s=>24+s/(e.length-1)*512,d=e=>68-(e-c)/(n-c)*56,x=e.map((e,s)=>`${o(s)},${d(parseFloat(e.cso_aba))}`).join(" "),m={sas:"#C46A2F",pis:"#6366f1",bss:"#10b981",tcm:"#f59e0b"},(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("p",{className:"text-[10px] font-medium text-slate-400 mb-2 uppercase tracking-wider",children:"Evolução CSO-ABA"}),(0,s.jsx)("div",{className:"bg-slate-50 rounded-xl p-3 mb-3",children:(0,s.jsxs)("svg",{width:"100%",viewBox:"0 0 560 80",className:"overflow-visible",children:[[60,70,80,90].map(e=>(0,s.jsxs)("g",{children:[(0,s.jsx)("line",{x1:24,x2:536,y1:d(e),y2:d(e),stroke:"#e2e8f0",strokeWidth:"1",strokeDasharray:"3,3"}),(0,s.jsx)("text",{x:20,y:d(e)+3,textAnchor:"end",fontSize:"8",fill:"#cbd5e1",children:e})]},e)),(0,s.jsx)("polyline",{points:x,fill:"none",stroke:"#C46A2F",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.map((t,a)=>{let l=parseFloat(t.cso_aba),i=o(a),r=d(l),c=t.cso_band,n=new Date(t.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"}),x=e.filter(e=>new Date(e.created_at).toLocaleDateString("pt-BR",{day:"2-digit",month:"short"})===n),m=x.findIndex(e=>e===t),h=x.length>1?`${n} S${m+1}`:n;return(0,s.jsxs)("g",{children:[(0,s.jsx)("circle",{cx:i,cy:r,r:"4",fill:"excelente"===c||"bom"===c?"#10b981":"#C46A2F",stroke:"white",strokeWidth:"1.5"}),(0,s.jsx)("text",{x:i,y:r-8,textAnchor:"middle",fontSize:"9",fill:"#475569",fontWeight:"500",children:Math.round(l)}),(0,s.jsx)("text",{x:i,y:78,textAnchor:"middle",fontSize:"8",fill:"#94a3b8",children:h})]},a)})]})}),(0,s.jsx)("p",{className:"text-[10px] font-medium text-slate-400 mb-2 uppercase tracking-wider",children:"Evolução por Dimensão"}),(0,s.jsx)("div",{className:"grid grid-cols-4 gap-2",children:["sas","pis","bss","tcm"].map(t=>{let a=e.map(e=>parseFloat(e[t]||0)),l=Math.max(0,Math.min(...a)-10),i=Math.min(100,Math.max(...a)+10),r=s=>8+s/(e.length-1)*104,c=e=>32-(e-l)/(i-l)*24,n=e.map((e,s)=>`${r(s)},${c(parseFloat(e[t]||0))}`).join(" "),o=a[a.length-1];return(0,s.jsxs)("div",{className:"bg-slate-50 rounded-lg p-2",children:[(0,s.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,s.jsx)("span",{className:"text-[9px] font-medium uppercase",style:{color:m[t]},children:t}),(0,s.jsx)("span",{className:"text-[10px] font-medium text-slate-600",children:Math.round(o)})]}),(0,s.jsxs)("svg",{width:"100%",viewBox:"0 0 120 40",children:[(0,s.jsx)("polyline",{points:n,fill:"none",stroke:m[t],strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),e.map((a,l)=>(0,s.jsx)("circle",{cx:r(l),cy:c(parseFloat(e[l][t]||0)),r:"2.5",fill:m[t]},l))]})]},t)})})]})),(0,s.jsxs)("div",{className:"grid grid-cols-3 gap-3 mb-4",children:[(0,s.jsxs)("div",{className:"p-4 bg-slate-50 rounded-xl text-center border border-slate-200",children:[(0,s.jsx)("p",{className:"text-3xl font-light text-slate-800",children:k.cso?parseFloat(k.cso.cso_aba).toFixed(1):"—"}),(0,s.jsx)("p",{className:"text-[10px] text-slate-400 mt-1 uppercase tracking-wider",children:"Índice CSO-ABA"}),k.cso?.cso_band&&(0,s.jsx)("p",{className:`text-xs font-medium mt-1 ${"excelente"===k.cso.cso_band?"text-emerald-500":"bom"===k.cso.cso_band?"text-green-500":"text-amber-500"}`,children:k.cso.cso_band.charAt(0).toUpperCase()+k.cso.cso_band.slice(1)})]}),(0,s.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl text-center",children:[(0,s.jsx)("p",{className:"text-lg font-light text-slate-700",children:k.protocols?.active||0}),(0,s.jsx)("p",{className:"text-[10px] text-slate-400",children:"Protocolos Ativos"})]}),(0,s.jsxs)("div",{className:"p-3 bg-slate-50 rounded-xl text-center",children:[(0,s.jsx)("p",{className:"text-lg font-light text-emerald-600",children:k.protocols?.mastered||0}),(0,s.jsx)("p",{className:"text-[10px] text-slate-400",children:"Dominados"})]})]}),(0,s.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,s.jsx)(i,{label:"Gerar Relatório PDF"}),(0,s.jsx)(i,{label:"Ver Snapshot"}),(0,s.jsx)(i,{label:"Log de Auditoria"}),(0,s.jsx)(i,{label:"Generalização 3×2"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-5",children:[(0,s.jsx)("h3",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-3",children:"Motor CSO-ABA v2.6.1"}),(0,s.jsx)("div",{className:"space-y-2",children:[["SAS","Aquisição de Habilidades"],["PIS","Independência de Prompts"],["BSS","Estabilidade Comportamental"],["TCM","Consistência Terapêutica"]].map(([e,t])=>(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("span",{className:"text-xs text-slate-500",children:t}),(0,s.jsx)("span",{className:"text-xs font-medium text-aba-500",children:e})]},e))}),(0,s.jsx)("div",{className:"mt-3 pt-3 border-t border-slate-100",children:(0,s.jsx)("p",{className:"text-[10px] text-slate-400",children:"Pesos fixos · Imutável · Auditável · SHA256"})})]}),(0,s.jsxs)("div",{className:"bg-white rounded-2xl border border-slate-200 p-5",children:[(0,s.jsx)("h3",{className:"text-xs font-medium text-slate-500 uppercase tracking-wider mb-3",children:"Blindagem Jurídica"}),(0,s.jsx)("div",{className:"space-y-2",children:["Snapshot imutável com hash SHA256","Justificativa automática de carga horária","Política de alta parcial documentada","Evidência bibliográfica por técnica","Versionamento metodológico explícito"].map((e,t)=>(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-aba-500 flex-shrink-0"}),(0,s.jsx)("span",{className:"text-xs text-slate-500",children:e})]},t))})]})]})]})]}),j&&(0,s.jsx)("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",onClick:()=>{v||g(!1)},children:(0,s.jsx)("div",{className:"bg-white rounded-2xl w-full max-w-md shadow-2xl",onClick:e=>e.stopPropagation(),children:(0,s.jsx)("div",{className:"p-6",children:y?(0,s.jsxs)("div",{className:"text-center py-4",children:[(0,s.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3",children:(0,s.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,s.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,s.jsx)("h3",{className:"text-base font-medium text-slate-800 mb-1",children:"Solicitação recebida"}),(0,s.jsx)("p",{className:"text-sm text-slate-500 mb-4",children:"Você receberá o link de acesso em breve."}),(0,s.jsx)("button",{onClick:()=>{g(!1),A(!1)},className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-700",children:"Fechar"})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"flex flex-col items-center mb-5",children:[(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("img",{src:"/axaba.png",alt:"AXIS ABA",className:"h-8 object-contain mx-auto"})}),(0,s.jsx)("h3",{className:"text-base font-medium text-slate-800 mb-1 text-center",children:"Acesso institucional imediato ao ambiente clínico real."}),(0,s.jsx)("p",{className:"text-xs text-slate-400 text-center",children:"Sem cartão. Sem aprovação manual. Sem limite temporal."})]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Nome *"}),(0,s.jsx)("input",{type:"text",value:N.nome,onChange:e=>f({...N,nome:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-aba-500",placeholder:"Seu nome completo"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Clínica"}),(0,s.jsx)("input",{type:"text",value:N.clinica,onChange:e=>f({...N,clinica:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-aba-500",placeholder:"Nome da clínica ou instituição"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:"Email *"}),(0,s.jsx)("input",{type:"email",value:N.email,onChange:e=>f({...N,email:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-aba-500",placeholder:"seu@email.com"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("label",{className:"block text-xs font-medium text-slate-600 mb-1",children:["Nº aproximado de aprendizes ",(0,s.jsx)("span",{className:"text-slate-300",children:"(opcional)"})]}),(0,s.jsx)("input",{type:"text",value:N.aprendizes,onChange:e=>f({...N,aprendizes:e.target.value}),className:"w-full px-3 py-2 border border-slate-200 rounded-lg text-sm focus:outline-none focus:border-aba-500",placeholder:"Ex: 5, 10, 20..."})]})]}),(0,s.jsxs)("div",{className:"flex justify-end gap-3 mt-5",children:[(0,s.jsx)("button",{onClick:()=>g(!1),className:"px-4 py-2 text-sm text-slate-500 hover:text-slate-700",children:"Cancelar"}),(0,s.jsx)("button",{onClick:C,disabled:v||!N.nome||!N.email,className:"px-5 py-2 bg-aba-500 text-white text-sm font-medium rounded-xl hover:bg-aba-600 disabled:opacity-50 transition-colors",children:v?"Enviando...":"Solicitar Acesso"})]})]})})})})]})}e.s(["default",()=>r])}]);